{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://schemas.maas.global/core/multimodal-routes-metadata.json",
  "description": "Metadata for multi-modal route search results",
  "type": "object",
  "properties": {
    "availableModes": {
      "description": "List of available query modes for the modeId param",
      "type": "array",
      "items": {
        "$ref": "#/definitions/routesConfigModesSpec"
      }
    },
    "availableAccessibilityFilter": {
      "description": "Is the accessibilityFilter param available?",
      "type": "boolean"
    }
  },
  "required": ["availableModes", "availableAccessibilityFilter"],
  "additionalProperties": false,
  "definitions": {
    "routesConfigModesSpec": {
      "type": "object",
      "description": "Route planner query mode",
      "properties": {
        "modeId": {
          "type": "string",
          "description": "TODO: make more strict?"
        },
        "modes": {
          "type": "array",
          "items": {
            "type": "string",
            "description": "TODO: make more/less strict?",
            "enum": [
              "TRANSIT",
              "TAXI",
              "CAR",
              "WALK",
              "BICYCLE",
              "BICYCLE_RENT",
              "SCOOTER"
            ]
          }
        }
      },
      "required": ["modeId", "modes"],
      "additionalProperties": false
    }
  },
  "examples": [
    {
      "availableAccessibilityFilter": true,
      "availableModes": [
        {
          "modeId": "TRANSIT",
          "modes": ["TRANSIT"]
        },
        {
          "modeId": "TRANSIT__SCOOTER",
          "modes": ["TRANSIT", "SCOOTER"]
        },
        {
          "modeId": "TRANSIT__BICYCLE_RENT",
          "modes": ["TRANSIT", "BICYCLE_RENT"]
        },
        {
          "modeId": "TAXI",
          "modes": ["TAXI"]
        }
      ]
    }
  ]
}
